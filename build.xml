<project name="JMeter" default="all" basedir=".">
<target name="init">
<property name="build.compiler" value="classic"/>
<property name="version" value="_1.5beta"/>
</target>
<target name="compile" depends="init">
<mkdir dir="bin/classes"/>
<javac srcdir="src" 
       destdir="bin/classes"
       optimize="on">
       <exclude name="**/*.df*"/>
       <exclude name="**/*.html"/>
       <exclude name="**/*.tpr"/>
       <exclude name="**/*.tws"/>
       <exclude name="**/make*"/>
       <exclude name="**/Makefile"/>
       <exclude name="**/Changelog*"/>
       <exclude name="**/*.orig"/>
</javac>
</target>
<target name="package" depends="compile">
<jar jarfile="ApacheJMeter.jar" basedir="bin/classes" manifest="src/MANIFEST"/>
</target>
<target name="install" depends="package">
<copyfile src="ApacheJMeter.jar" dest="bin/ApacheJMeter.jar"/>
<delete file="ApacheJMeter.jar"/>
</target>
<target name="all" depends="install"/>
<target name="dist" depends="install">
<jar jarfile="../ApacheJMeter${version}.jar" basedir="../" includes="jmeter/**"/>
<zip zipfile="../ApacheJMeter${version}.zip" basedir="../" includes="jmeter/**"/>
<tar tarfile="../ApacheJMeter${version}.tar" basedir="../" includes="jmeter/**" /> 
<gzip zipfile="$../ApacheJMeter${version}.tar.gz" src="../ApacheJMeter${version}.tar" />
</target> 
<target name="clean">
<delete file="ApacheJMeter.jar"/>
<deltree dir="bin/classes"/>
</target>
</project>
